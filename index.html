<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>麦克风</title>
	</head>

	<body>
		<input type="file" accept="audio/*;capture=microphone"> 
		<script type="text/javascript">
			var microphone = navigator.mediaDevices.getUserMedia;
			try {
				if(microphone) {
				document.getElementById("content").innerHTML = "支持";
				navigator.mediaDevices.getUserMedia({
						audio: true
					})
					.then(function(mediaStream) {
						var video = document.querySelector('video');
						video.src = window.URL.createObjectURL(mediaStream);
						video.onloadedmetadata = function(e) {
							// Do something with the video here.
							document.getElementById("content").innerHTML = "！！";
						};
					})
					.catch(function(error) {
						alert(error.name);
					})
			} else {
				document.getElementById("content").innerHTML = "不支持";
			}
			} catch(e) {
				document.getElementById("content").innerHTML = "出问题了";
			}
		</script>
	</body>

</html>